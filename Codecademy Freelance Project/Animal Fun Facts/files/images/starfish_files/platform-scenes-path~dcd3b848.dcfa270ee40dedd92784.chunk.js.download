(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[393],{D7L5:function(t,e,n){"use strict";n.r(e),n.d(e,"PathContainer",(function(){return path_PathContainer}));var r=n("rePB"),o=n("q1tI"),a=n("/MKj"),s=n("GR0a"),c=n("/BuZ"),i=n("e18T"),p=n("LuU8"),h=n("2oex"),b=n("yy36"),l=n("cQ3R"),j=n("z9go"),O=n("b0K7"),u=n("FsEs"),d=n("wMKF"),y=n("1xSP"),w=n("lzsc"),P=n("c8W1"),_=n("jY6L"),m=n("raiL"),C=n("givd"),f=n("nKUr");function ownKeys(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}class pathContentItem_PathContentItem extends o.Component{constructor(...t){super(...t),Object(r.a)(this,"state",{contentCompleted:!1}),Object(r.a)(this,"showPaywallInterstitial",(()=>{this.props.showModal({type:"PaidExclusiveOverlay",returnPath:this.returnPath()})})),Object(r.a)(this,"trackVisit",(t=>{Object(j.e)(_objectSpread(_objectSpread({},t),this.props.trackVisitPayload))})),Object(r.a)(this,"showNextContentInterstitial",(()=>{const t=this.props,e=t.nextContentItemRequested;t.interstitialsFeatureFlagEnabled?this.setState({contentCompleted:!0}):e()}))}componentDidMount(){const t=this.props,e=t.showPaywall,n=t.trackVisitPayload;var r;n.content_ids&&((r=window).dataLayer||(r.dataLayer=[]),window.dataLayer.push({event:"content_id_loaded",content_id:Object(d.a)(n.content_ids)}));e&&this.showPaywallInterstitial()}componentDidUpdate(t){this.props.showPaywall!==t.showPaywall&&this.showPaywallInterstitial()}returnPath(){const t=this.props.locationParams;return t.journeySlug?Object(O.t)(t.journeySlug):Object(O.Cb)(t.pathSlug)}render(){const t=this.props,e=t.currentContentItem,n=t.contentTitle,r=y.c[e.type].component,o=_objectSpread(_objectSpread({},this.props),{},{exitPaths:{logo:"/",back:this.returnPath()},showNextContentInterstitial:this.showNextContentInterstitial}),a=this.state.contentCompleted;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(l.a,{title:n}),a?Object(f.jsx)(u.a,{}):Object(f.jsx)(r,_objectSpread(_objectSpread({},o),{},{trackVisit:this.trackVisit,disabled:!1,currentContentItem:e}))]})}}var g=Object(a.connect)((t=>({currentCourse:Object(h.S)(t),contentTitle:Object(h.k)(t),currentContentItem:Object(h.t)(t),hasNextContent:Object(h.mb)(t),nextContentItems:Object(h.pb)(t),showPaywall:Object(w.e)(t),authorURL:Object(h.l)(t),trackVisitPayload:Object(_.d)(t),interstitialsFeatureFlagEnabled:Object(m.b)(t,"interstitials_techdebt")})),((t,{locationParams:e})=>({dispatch:t,nextContentItemRequested:()=>t(Object(P.b)({returnPath:Object(O.Cb)(e.pathSlug)})),showModal:e=>t(Object(C.c)(e))})))(pathContentItem_PathContentItem);function path_ownKeys(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function path_objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?path_ownKeys(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):path_ownKeys(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}const S={fetchInitialPathContent:p.a};class path_PathContainer extends o.Component{constructor(...t){super(...t),Object(r.a)(this,"state",{loaded:!1}),Object(r.a)(this,"navigateToExercise",((t,e=!1)=>{const n=this.props,r=n.locationParams,o=n.locationQuery,a=n.dispatch;let c;c=(r.journeySlug?i.h:i.m)(path_objectSpread(path_objectSpread({},r),{},{sectionType:"exercises",exerciseSlug:t,query:o})),e&&(c=Object(s.redirect)(c)),a(c)}))}componentDidMount(){this.fetchInitialContent()}async fetchInitialContent(){this.props.isAnonymous||(await this.props.fetchInitialPathContent(),this.setState((()=>({loaded:!0}))))}render(){return this.props.currentContentItem&&this.state.loaded?Object(f.jsx)(g,path_objectSpread({navigateToExercise:this.navigateToExercise,next:()=>{}},this.props)):Object(f.jsx)(c.a,{})}}e.default=Object(a.connect)((t=>({currentContentItem:Object(h.t)(t),isAnonymous:Object(b.F)(t)})),S)(path_PathContainer)}}]);
//# sourceMappingURL=platform-scenes-path~dcd3b848.dcfa270ee40dedd92784.chunk.js.map